{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Welcome to CHESS ID4B - <QM> 2 Beamline Documentation! \u00b6 The <QM> 2 beamline is optimized to uncover intertwined quantum correlations of spins, charges and orbitals, over a wide temperature range and spanning entire phase diagrams. For full documentation of beamline capabilities, please visit <QM> 2 beamline . This documents is a collection of codes and equipment details usefull for the beamline ID4B at CHESS. If you encounter with any bug or like to have additional functionality, please send an email to ID4B beamline . User Documentations \u00b6 Getting Started ID4B-SPEC commands Data processing Sample alignment \u00b6 Sample Alignments High Dynamic Range Reciprocal Space Mapping (HDRM) Resonant Elastic X-ray Scattering (REXS) Beamline detials \u00b6 Diffractometer Cryocooler Detector information Frequently Asked Questions (FAQ) \u00b6 Quentions","title":"Welcome"},{"location":"#welcome-to-chess-id4b-qm2-beamline-documentation","text":"The <QM> 2 beamline is optimized to uncover intertwined quantum correlations of spins, charges and orbitals, over a wide temperature range and spanning entire phase diagrams. For full documentation of beamline capabilities, please visit <QM> 2 beamline . This documents is a collection of codes and equipment details usefull for the beamline ID4B at CHESS. If you encounter with any bug or like to have additional functionality, please send an email to ID4B beamline .","title":"Welcome to CHESS ID4B - &#60;QM&#62;2 Beamline Documentation!"},{"location":"#user-documentations","text":"Getting Started ID4B-SPEC commands Data processing","title":"User Documentations"},{"location":"#sample-alignment","text":"Sample Alignments High Dynamic Range Reciprocal Space Mapping (HDRM) Resonant Elastic X-ray Scattering (REXS)","title":"Sample alignment"},{"location":"#beamline-detials","text":"Diffractometer Cryocooler Detector information","title":"Beamline detials"},{"location":"#frequently-asked-questions-faq","text":"Quentions","title":"Frequently Asked Questions (FAQ)"},{"location":"FAQ/","text":"Frequesnly ask questions (FAQ) \u00b6 Frequesnly ask questions (FAQ) Answers are given by Dr. Jacob Ruff and Suchismita Sarker Q. How is the measurement time and what is the angle step size when rotating the single crystal? \u00b6 These parameters are adjustable, of course, but the most \u201ctypical\u201d choice is continuous rotation, 0.1 degree angular integrations, collecting 2 or 3 redundant 360 degree rotations with different rotation axes, and ~0.1 seconds per frame. So, full data collection is ~3600 frames x 3 scans x 0.1 seconds = 18 minutes of data collection at a single temperature. There is motor movement overhead that adds time to to this, but basically collecting one comprehensive dataset at one temperature in <30 minutes is reasonable . Q. What is the photon energy and Qmax for 3D-PDF experiment? \u00b6 Presently QM2 has a maximum operating energy of 52 keV. The minimum sample-to-detector distance with the Pilatus6M is ~380mm. This would give you a two-theta max < 45 degrees, and a QMax <~ 20 inv A, depending on how you center the detector on the beam . Q. What is the temperature range available for 3D-dPDF? We are requesting cryostream-like temperature region (100~500 K), but it would be intesting to know if any lower or higher tempearture setup accessible. \u00b6 Our gas cryocooler system gives the best quality data, since there are no windows. Our system operates using either helium or nitrogen, and can switch on the fly. With helium, it operates from ~13K to 180K, and with nitrogen from ~95K to 480K. When using this system, we recommend users mount samples using crystallography loops, as noted above . Q. 2. What is the suitable single crystal size in volume and dimension lengths so that it can be covered by the beam when rotating (not too large or too small)? \u00b6 The beam at 4B is ~200 microns tall and ~1mm wide. Typically, we mount crystals using mitigen crystallography loops if using a gas cryocooler, or on copper posts if using a closed cycle cryostat. The ideal crystal size/shape depends a little on the mounting method. Generally, though, you want to keep the scattering volume constant while rotating, and you want to have crystals <~ one attenuation length in at least 2 dimensions. Samples can in principle be longer along the rotation axis direction - like a cylinder or bar where the short directions are ~ 100 microns but the long direction is several mm, still works well . Q: Where is my data? \u00b6 The data stored at id4b, after processing the data your can find that in id4baux. Q: How to transfer the data? \u00b6 You should use globus to transfer your data. Q: How to get the globus in the computer? \u00b6 Q. How to access the nomachine? \u00b6 Q. how to recover if the computer failes \u00b6","title":"Frequently Asked Questions (FAQ)"},{"location":"FAQ/#frequesnly-ask-questions-faq","text":"Frequesnly ask questions (FAQ) Answers are given by Dr. Jacob Ruff and Suchismita Sarker","title":"Frequesnly ask questions (FAQ)"},{"location":"FAQ/#q-how-is-the-measurement-time-and-what-is-the-angle-step-size-when-rotating-the-single-crystal","text":"These parameters are adjustable, of course, but the most \u201ctypical\u201d choice is continuous rotation, 0.1 degree angular integrations, collecting 2 or 3 redundant 360 degree rotations with different rotation axes, and ~0.1 seconds per frame. So, full data collection is ~3600 frames x 3 scans x 0.1 seconds = 18 minutes of data collection at a single temperature. There is motor movement overhead that adds time to to this, but basically collecting one comprehensive dataset at one temperature in <30 minutes is reasonable .","title":"Q. How is the measurement time and what is the angle step size when rotating the single crystal?"},{"location":"FAQ/#q-what-is-the-photon-energy-and-qmax-for-3d-pdf-experiment","text":"Presently QM2 has a maximum operating energy of 52 keV. The minimum sample-to-detector distance with the Pilatus6M is ~380mm. This would give you a two-theta max < 45 degrees, and a QMax <~ 20 inv A, depending on how you center the detector on the beam .","title":"Q. What is the photon energy and Qmax for 3D-PDF experiment?"},{"location":"FAQ/#q-what-is-the-temperature-range-available-for-3d-dpdf-we-are-requesting-cryostream-like-temperature-region-100500-k-but-it-would-be-intesting-to-know-if-any-lower-or-higher-tempearture-setup-accessible","text":"Our gas cryocooler system gives the best quality data, since there are no windows. Our system operates using either helium or nitrogen, and can switch on the fly. With helium, it operates from ~13K to 180K, and with nitrogen from ~95K to 480K. When using this system, we recommend users mount samples using crystallography loops, as noted above .","title":"Q. What is the temperature range available for 3D-dPDF? We are requesting cryostream-like temperature region (100~500 K), but it would be intesting to know if any lower or higher tempearture setup accessible."},{"location":"FAQ/#q-2-what-is-the-suitable-single-crystal-size-in-volume-and-dimension-lengths-so-that-it-can-be-covered-by-the-beam-when-rotating-not-too-large-or-too-small","text":"The beam at 4B is ~200 microns tall and ~1mm wide. Typically, we mount crystals using mitigen crystallography loops if using a gas cryocooler, or on copper posts if using a closed cycle cryostat. The ideal crystal size/shape depends a little on the mounting method. Generally, though, you want to keep the scattering volume constant while rotating, and you want to have crystals <~ one attenuation length in at least 2 dimensions. Samples can in principle be longer along the rotation axis direction - like a cylinder or bar where the short directions are ~ 100 microns but the long direction is several mm, still works well .","title":"Q. 2. What is the suitable single crystal size in volume and dimension lengths so that it can be covered by the beam when rotating (not too large or too small)?"},{"location":"FAQ/#q-where-is-my-data","text":"The data stored at id4b, after processing the data your can find that in id4baux.","title":"Q: Where is my data?"},{"location":"FAQ/#q-how-to-transfer-the-data","text":"You should use globus to transfer your data.","title":"Q: How to transfer the data?"},{"location":"FAQ/#q-how-to-get-the-globus-in-the-computer","text":"","title":"Q: How to get the globus in the computer?"},{"location":"FAQ/#q-how-to-access-the-nomachine","text":"","title":"Q. How to access the nomachine?"},{"location":"FAQ/#q-how-to-recover-if-the-computer-failes","text":"","title":"Q. how to recover if the computer failes"},{"location":"ID4B_Codes/","text":"Welcome to Data Processing \u00b6 NOTE Single crystal data-processing codes are written by Dr. Jacob Ruff based on reference [1] H. You, J. Appl. Cryst.(1999).32, 614-623 and [2] W. R. & Levy, H. A. (1967). Acta Cryst. 22, 457\u2013464 The purpose of this guide is to illustrate some of the main features that Jacob's code provides. It assumes a very basic working knowledge with python pakages. To download the package please go to the github link. The code provides various tools for stacking the raw data, finding Bragg peaks, solving orientation matrix and finally provide the HKL. The results are visible to NeXpy GUI . Single crystal data-processing steps \u00b6 STEP I : Calibrate Detector & Beamline STEP II : Stack data STEP III : Find Bragg peaks STEP IV : Solve orientation matrix STEP V : Convert stacks of data to HKL volume Usage Examples \u00b6 Step I : Calibrate Detector & Beamline After collecting data from CeO2, LaB6, we calibrate the date by using pyFAI-calib2. Referemce shown below Reference: pyFAI reference : pyFAI . pyFAI-calib2 : calibration_video Calibration of a diffraction setup using the Graphical User Interface (GUI) >>>``pyFAI-calib2`` # generates .poni and mask.edf files =========================================================================== STEP II : Stack data The script take all the detector's raw .cbf files and performed calibration. You can the get the stack_em_all . >>>``python stack_em_all_cbf_2022.py`` chem_formula sample_id spec_scan_num temperature =========================================================================== STEP III: Find Bragg peaks simple_peakfinder script >>>``python simple_peakfinder.py`` */full/path/to/stack/ 0.95* Would consider anything above 95% of max counts as a Bragg peak =========================================================================== STEP IV: Solve orientation matrix auto_ormfinder script >>>``python auto_ormfinder.py`` */full/path/to/stack/ peakfilename.nxs* =========================================================================== STEP V: Convert stacks of data to HKL volume Pil6M_HKLConv python script (edit to point to project, ormatrix, and define HKL grid) >>>``python Pil6M_HKLConv_3D_2022.py`` *temperature* =========================================================================== NeXpy \u00b6","title":"Data processing"},{"location":"ID4B_Codes/#welcome-to-data-processing","text":"NOTE Single crystal data-processing codes are written by Dr. Jacob Ruff based on reference [1] H. You, J. Appl. Cryst.(1999).32, 614-623 and [2] W. R. & Levy, H. A. (1967). Acta Cryst. 22, 457\u2013464 The purpose of this guide is to illustrate some of the main features that Jacob's code provides. It assumes a very basic working knowledge with python pakages. To download the package please go to the github link. The code provides various tools for stacking the raw data, finding Bragg peaks, solving orientation matrix and finally provide the HKL. The results are visible to NeXpy GUI .","title":"Welcome to Data Processing"},{"location":"ID4B_Codes/#single-crystal-data-processing-steps","text":"STEP I : Calibrate Detector & Beamline STEP II : Stack data STEP III : Find Bragg peaks STEP IV : Solve orientation matrix STEP V : Convert stacks of data to HKL volume Usage","title":"Single crystal data-processing steps"},{"location":"ID4B_Codes/#examples","text":"Step I : Calibrate Detector & Beamline After collecting data from CeO2, LaB6, we calibrate the date by using pyFAI-calib2. Referemce shown below Reference: pyFAI reference : pyFAI . pyFAI-calib2 : calibration_video Calibration of a diffraction setup using the Graphical User Interface (GUI) >>>``pyFAI-calib2`` # generates .poni and mask.edf files =========================================================================== STEP II : Stack data The script take all the detector's raw .cbf files and performed calibration. You can the get the stack_em_all . >>>``python stack_em_all_cbf_2022.py`` chem_formula sample_id spec_scan_num temperature =========================================================================== STEP III: Find Bragg peaks simple_peakfinder script >>>``python simple_peakfinder.py`` */full/path/to/stack/ 0.95* Would consider anything above 95% of max counts as a Bragg peak =========================================================================== STEP IV: Solve orientation matrix auto_ormfinder script >>>``python auto_ormfinder.py`` */full/path/to/stack/ peakfilename.nxs* =========================================================================== STEP V: Convert stacks of data to HKL volume Pil6M_HKLConv python script (edit to point to project, ormatrix, and define HKL grid) >>>``python Pil6M_HKLConv_3D_2022.py`` *temperature* ===========================================================================","title":"Examples"},{"location":"ID4B_Codes/#nexpy","text":"","title":"NeXpy"},{"location":"PTZ_camera/","text":"PZT Cameras \u00b6 Two Pan-tilt-zoom (PZT) cameras are installed in the ID4B beamline for the users to look the sample position and computers. The IP address of the cameras shown below Station PTZ camera : 192.168.182.42 Hutch PTZ camera : 192.168.182.82","title":"Cameras"},{"location":"PTZ_camera/#pzt-cameras","text":"Two Pan-tilt-zoom (PZT) cameras are installed in the ID4B beamline for the users to look the sample position and computers. The IP address of the cameras shown below Station PTZ camera : 192.168.182.42 Hutch PTZ camera : 192.168.182.82","title":"PZT Cameras"},{"location":"SPEC_commands/","text":"SPEC- ID4B \u00b6 Welcome to ID4B SPEC command \u00b6 SPEC Detailed Descriptions For full documentation visit certif.com . In ID4B, we used several SPEC along with python and C written by Dr. Jacob Ruff . \"spec is internationally recognized as the leading software for instrument control and data acquisition in X-ray diffraction experiments.\" Few important commands are shown below. For more information visit to the above mentioned website. SPEC Commands for ID4B More detaiils can be found in SPEC manual and ID4B-SPEC Examples. Important SPEC commands \u00b6 mkdir - Create a new directotry. a2scan - two-motor scan. abscan - incident-reflected angle scan. br - br and ubr - move to the reciprocal space coordinates (HKL). ca - calculate motor settings for a given point in reciprocal space cal - calculate motor settings for a given point in reciprocal space cat - UNIX shell cat command cd - change working directory cmAX - Compumotor AX motor controller config - edit the hardware configuration config_adm - configuration - administer hardware configuration file constant - define a constant global symbol counting - timer/scaler commands, macros and variables cscan - Continuous Scans ct - count and print results dscan/lup - motor scan relative to the starting position d2scan - two-motor scan relative to the starting positions def - def and rdef - define a macro disable - disable and enable - Disable and Enable Hardware do - execute a command file dtscan - relative temperature scan dxp - XIA DXP CAMAC MCA encode - encode()/decode() - data stream manipulation epics - EPICS specific functions files - conventions for file/device output flow - flow control flyscan - Continuous Scans with Multichannel Scalers fourc - 4-circle geometry modes funcs - functions - built-in functions global - declare global variables getE - get the energy getroi - get the region of interest hbeamscan - Horizontal direction beam scan based on start, finish, interval and time arrguments history - command recall facility hklscan - general linear scan in reciprocal space hscan - scan along the H-axis in reciprocal space install - spec installation procedure l - UNIX file listing libedit - libedit/readline - command line recall and editing lm - list motor software limits ls - UNIX file listing lscan - scan along the L-axis in reciprocal space lup chi - motor 'chi' scan relative to the starting position lup th - motor 'th' scan relative to the starting position lup tth - motor 'two theta' scan relative to the starting position lup phi - motor 'phi' scan relative to the starting position macros - description of macro facility matchUE - match undulator energy maxk - maximum position at k reciprocal space wm monchi - where is monochromator chi mk / umk - move to the reciprocal space coordinates (HKL) mono - monochromator - monochromator control macros motors - commands and functions for controlling motors move_info - move_info() - returns what would happen on a move moveE - move the energy mr - move to a given angle of specular reflection mv - mv and umv - move one motor mvd - move a motor in dial units mvr - mvr and umvr - move a single motor relative to its current position umv th CEN - move theta motor to center mond - monocromator d posiiron montrav - monochromator in trnasverse direction newvbeam - new beam position based on vertical beam or horizontal beam scan newfile - data file management newmac - re-read the standard macro definitions nu - ??????? or0 - or1 - or_swap - os1 - optical slit 1?????? os2 - ?????? pwd - print spec's current working directory pa - park6m - park the 6M PILATUS detector to 175m (x), 924.5m (y) and 200m (z) in directions pil_von - PILATUS video on pil_voff - PILATUS video off pil_setdir - PILATUS set directory pil_setup PIL6 - PILATUS setup pil_settrig \"Internal\" - pil_unsetup 0 - PILATUS unset pl_xMAX - plotselect pilroi - plot select PILATUS ROI qdo - execute a command file without echo quickfly - quick_collect - rscan - specular reflectivity scan r2scan - reflectivity background scans readline - libedit/readline - command line recall and editing resume - continue an aborted scan roi - region of Interest counters samz - moving sample z direction scans - scans and scans.4 - read data from ASCII spec data format scan files server - spec server/client - issue commands and control hardware remotely set - define the user angle of a motor setfilter - set filter set_dial - define the dial position of a motor setlat - set lattice set_lm - set lower and upper software limits set_sim - set simulate (no hardware) mode setplot - set plotting options setpowder - configure powder-averaged scans setscans - configure scan options showtemp - display the current temperature sharpopt - sixc - 6-circle geometry modes spec - spec, fourc, twoc, surf, etc. - X-ray diffractometer operation for specific configurations spec_menu - spec_menu() - create interactive menu from specifications spec_par - spec_par() - sets internal parameters splot - syncE - synchronize E tw tabzd tabzui tabzuo - tewak table te - read or set the temperature teramp - ramp the temperature to a new set point tscan - temperature scan th2th - theta two theta scan tw - \"tweak\" motors tweakup - scan the monochromator in d direction (mond), go to the midlle and scan the undulator and move to the highest position unkludgenu - ?????? vi - invokes the standard UNIX visual editor vscan - Variable Step Size Scans vbeamscan - Vertical direction beam scan based on start, finish, interval and time arrguments w - wait for moving and counting and then beep wa - list all motor positions wait - wait() - synchronization with moving, counting and other activity wfilter - where is filters wideopt - wh - where, principal axes and reciprocal space whats - identify what an object is wm - print information about one or more motors wmono - where is monochromatic beam wmonoall - where motor and their position including the motors, phi and filters wmonoall - where is mirror position wot - where is optical tables ws1 - where is first slit ws1 - where is second slit w6m - where is 6M detector wslits - where is both slit 1 and slit 2 If you encounter any new commands during your sample run, please send an email and we will add that to the list .","title":"ID4B-SPEC commands"},{"location":"SPEC_commands/#spec-id4b","text":"","title":"SPEC- ID4B"},{"location":"SPEC_commands/#welcome-to-id4b-spec-command","text":"SPEC Detailed Descriptions For full documentation visit certif.com . In ID4B, we used several SPEC along with python and C written by Dr. Jacob Ruff . \"spec is internationally recognized as the leading software for instrument control and data acquisition in X-ray diffraction experiments.\" Few important commands are shown below. For more information visit to the above mentioned website. SPEC Commands for ID4B More detaiils can be found in SPEC manual and ID4B-SPEC Examples.","title":"Welcome to ID4B SPEC command"},{"location":"SPEC_commands/#important-spec-commands","text":"mkdir - Create a new directotry. a2scan - two-motor scan. abscan - incident-reflected angle scan. br - br and ubr - move to the reciprocal space coordinates (HKL). ca - calculate motor settings for a given point in reciprocal space cal - calculate motor settings for a given point in reciprocal space cat - UNIX shell cat command cd - change working directory cmAX - Compumotor AX motor controller config - edit the hardware configuration config_adm - configuration - administer hardware configuration file constant - define a constant global symbol counting - timer/scaler commands, macros and variables cscan - Continuous Scans ct - count and print results dscan/lup - motor scan relative to the starting position d2scan - two-motor scan relative to the starting positions def - def and rdef - define a macro disable - disable and enable - Disable and Enable Hardware do - execute a command file dtscan - relative temperature scan dxp - XIA DXP CAMAC MCA encode - encode()/decode() - data stream manipulation epics - EPICS specific functions files - conventions for file/device output flow - flow control flyscan - Continuous Scans with Multichannel Scalers fourc - 4-circle geometry modes funcs - functions - built-in functions global - declare global variables getE - get the energy getroi - get the region of interest hbeamscan - Horizontal direction beam scan based on start, finish, interval and time arrguments history - command recall facility hklscan - general linear scan in reciprocal space hscan - scan along the H-axis in reciprocal space install - spec installation procedure l - UNIX file listing libedit - libedit/readline - command line recall and editing lm - list motor software limits ls - UNIX file listing lscan - scan along the L-axis in reciprocal space lup chi - motor 'chi' scan relative to the starting position lup th - motor 'th' scan relative to the starting position lup tth - motor 'two theta' scan relative to the starting position lup phi - motor 'phi' scan relative to the starting position macros - description of macro facility matchUE - match undulator energy maxk - maximum position at k reciprocal space wm monchi - where is monochromator chi mk / umk - move to the reciprocal space coordinates (HKL) mono - monochromator - monochromator control macros motors - commands and functions for controlling motors move_info - move_info() - returns what would happen on a move moveE - move the energy mr - move to a given angle of specular reflection mv - mv and umv - move one motor mvd - move a motor in dial units mvr - mvr and umvr - move a single motor relative to its current position umv th CEN - move theta motor to center mond - monocromator d posiiron montrav - monochromator in trnasverse direction newvbeam - new beam position based on vertical beam or horizontal beam scan newfile - data file management newmac - re-read the standard macro definitions nu - ??????? or0 - or1 - or_swap - os1 - optical slit 1?????? os2 - ?????? pwd - print spec's current working directory pa - park6m - park the 6M PILATUS detector to 175m (x), 924.5m (y) and 200m (z) in directions pil_von - PILATUS video on pil_voff - PILATUS video off pil_setdir - PILATUS set directory pil_setup PIL6 - PILATUS setup pil_settrig \"Internal\" - pil_unsetup 0 - PILATUS unset pl_xMAX - plotselect pilroi - plot select PILATUS ROI qdo - execute a command file without echo quickfly - quick_collect - rscan - specular reflectivity scan r2scan - reflectivity background scans readline - libedit/readline - command line recall and editing resume - continue an aborted scan roi - region of Interest counters samz - moving sample z direction scans - scans and scans.4 - read data from ASCII spec data format scan files server - spec server/client - issue commands and control hardware remotely set - define the user angle of a motor setfilter - set filter set_dial - define the dial position of a motor setlat - set lattice set_lm - set lower and upper software limits set_sim - set simulate (no hardware) mode setplot - set plotting options setpowder - configure powder-averaged scans setscans - configure scan options showtemp - display the current temperature sharpopt - sixc - 6-circle geometry modes spec - spec, fourc, twoc, surf, etc. - X-ray diffractometer operation for specific configurations spec_menu - spec_menu() - create interactive menu from specifications spec_par - spec_par() - sets internal parameters splot - syncE - synchronize E tw tabzd tabzui tabzuo - tewak table te - read or set the temperature teramp - ramp the temperature to a new set point tscan - temperature scan th2th - theta two theta scan tw - \"tweak\" motors tweakup - scan the monochromator in d direction (mond), go to the midlle and scan the undulator and move to the highest position unkludgenu - ?????? vi - invokes the standard UNIX visual editor vscan - Variable Step Size Scans vbeamscan - Vertical direction beam scan based on start, finish, interval and time arrguments w - wait for moving and counting and then beep wa - list all motor positions wait - wait() - synchronization with moving, counting and other activity wfilter - where is filters wideopt - wh - where, principal axes and reciprocal space whats - identify what an object is wm - print information about one or more motors wmono - where is monochromatic beam wmonoall - where motor and their position including the motors, phi and filters wmonoall - where is mirror position wot - where is optical tables ws1 - where is first slit ws1 - where is second slit w6m - where is 6M detector wslits - where is both slit 1 and slit 2 If you encounter any new commands during your sample run, please send an email and we will add that to the list .","title":"Important SPEC commands"},{"location":"SPEC_macros/","text":"Welcome to SPEC macros \u00b6 NOTE The code is written by Dr. Jacob Ruff based on SPEC certif.com . \"spec is internationally recognized as the leading software for instrument control and data acquisition in X-ray diffraction experiments.\" In ID4B, SPEC code is used along with python and C commands. ID4B beamline specific macros are shown below. Important SPEC commands for ID4B \u00b6 userlist.mac - Important macos needed for the users, delaied descrispotion are shown below. ``JRs_useful_macros.mac`` # generate SPEC macros for beam, motor and slit positions plotlast.mac # generate?? undulator_macro.mac # undulator stability syncmon.mac # syncronoze the system fmbo_filter.mac # filter macros digio.mac # diti? set_and_get_rois.mac # set ROI channels multi_pilatus_v5.mac # detector Lakeshore336cryocool.mac # Temperature macros energy_pv.mac # Energy macros undulator_2A.mac # Undulator stablibility macros Detailed description of macros The codes are in github repository Detailed description of macros \u00b6 JRs_useful_macros.mac 1. Define a macro vbeamscan based on passing four arrguments start, finish, interval and time parameter scans 2. Define a macro newbeam based on passing four arrguments start, finish, interval and time parameter scans 3. Define a macro hbeamscan based on passing four arrguments start, finish, interval and time parameter scans 4. Define a macro monocromator position def wmono 'wm monu mond monoff montrav mond_x monzu monzd monxu monxd' 5. Define a macro for mirror posiiton def wmirror 'wm mird miru mirbd mirbu' 6. Define a macro for optical table 7. Define a macro for slit position 8. Define a macro for tweakup the monochromator d position wby scanning both mond and undulator motors 9. Define where is 6M detectors 10. Define how to park the 6M detector","title":"SPEC macro"},{"location":"SPEC_macros/#welcome-to-spec-macros","text":"NOTE The code is written by Dr. Jacob Ruff based on SPEC certif.com . \"spec is internationally recognized as the leading software for instrument control and data acquisition in X-ray diffraction experiments.\" In ID4B, SPEC code is used along with python and C commands. ID4B beamline specific macros are shown below.","title":"Welcome to SPEC macros"},{"location":"SPEC_macros/#important-spec-commands-for-id4b","text":"userlist.mac - Important macos needed for the users, delaied descrispotion are shown below. ``JRs_useful_macros.mac`` # generate SPEC macros for beam, motor and slit positions plotlast.mac # generate?? undulator_macro.mac # undulator stability syncmon.mac # syncronoze the system fmbo_filter.mac # filter macros digio.mac # diti? set_and_get_rois.mac # set ROI channels multi_pilatus_v5.mac # detector Lakeshore336cryocool.mac # Temperature macros energy_pv.mac # Energy macros undulator_2A.mac # Undulator stablibility macros Detailed description of macros The codes are in github repository","title":"Important SPEC commands for ID4B"},{"location":"SPEC_macros/#detailed-description-of-macros","text":"JRs_useful_macros.mac 1. Define a macro vbeamscan based on passing four arrguments start, finish, interval and time parameter scans 2. Define a macro newbeam based on passing four arrguments start, finish, interval and time parameter scans 3. Define a macro hbeamscan based on passing four arrguments start, finish, interval and time parameter scans 4. Define a macro monocromator position def wmono 'wm monu mond monoff montrav mond_x monzu monzd monxu monxd' 5. Define a macro for mirror posiiton def wmirror 'wm mird miru mirbd mirbu' 6. Define a macro for optical table 7. Define a macro for slit position 8. Define a macro for tweakup the monochromator d position wby scanning both mond and undulator motors 9. Define where is 6M detectors 10. Define how to park the 6M detector","title":"Detailed description of macros"},{"location":"about/","text":"Authors: Jacob Ruff Suchismita Sarker date: 2022-07-15","title":"About"},{"location":"beamline_setup/","text":"Beamline Startup \u00b6 General steps \u00b6 Device Description Name Title Paragraph Text description: This is an example page \u00b6","title":"Beamline setup"},{"location":"beamline_setup/#beamline-startup","text":"","title":"Beamline Startup"},{"location":"beamline_setup/#general-steps","text":"Device Description Name Title Paragraph Text","title":"General steps"},{"location":"beamline_setup/#description-this-is-an-example-page","text":"","title":"description: This is an example page"},{"location":"cryocooler/","text":"Cryocoolers \u00b6 The cryocooler is manufectured by CYRO Industries of America, Inc. . Close-circle cryostats is installed in <QM> 2 allows samples to be comprehensively studied wide range of temperature from 12K to 500K. The cryocooler can operate both helium (12K to 300K) and nitrogen gas (300K to 500K ) using a single stream flow. In-hourse nitrogen and helium gas is used for cryo cooler. Just swiching the knob outside of the hutch, the gas supply can be altered. The external tip-heater prevent to frost and maintain a dry tip that helps to create ice-free sample environmant at low temperature. A platinum temperature sensor is installed to control the low alarm setting temperature that trigger back the temperature controller to energized and maintain the ice-free enviroment. The main component of the cryostate can be devided into five deferent components: (i) source : the refregator or the cryostate act as a source to cool a relable cryogenic temperature for a long continuous periods (ii) compressor (iii) PID temperature controller : Cryogenic temperature controlled Model 336 manufectured by Lake Shore is used. The controller\u2019s zone tuning feature allows you to measure and control temperatures seamlessly from 300 mK to over 1,500 K by automatically switching temperature sensor inputs [1]. (iv) Power supply : 30 V digital and 24V DC is used (v) Gas flow controller : The digital flow automatically control and deplays the flow rate Gas flow parameters Helium gas : Normal flow rate is between 8 \u2013 12 liters/min, typically 11 l/min Nitrogen gas : Normal flow rate is between 8 \u2013 12 liters/min, typically 9 l/min. Safety Do not touch the cold helium and nitrogen gas stream. Exposure to skin of the cold gas could result in a severe injuries. The dewar system has pressure relief protection installed. Do not remove pressure reliefs or check valves. Motors Motor Commands Comments Temperature controller sampleT Pilatus Beamsplitting polarimeter \u00b6 polarization analyzer to isolate and measure a unique series of diffraction resonances at the iron K-edge in hematite.","title":"Cryocooler"},{"location":"cryocooler/#cryocoolers","text":"The cryocooler is manufectured by CYRO Industries of America, Inc. . Close-circle cryostats is installed in <QM> 2 allows samples to be comprehensively studied wide range of temperature from 12K to 500K. The cryocooler can operate both helium (12K to 300K) and nitrogen gas (300K to 500K ) using a single stream flow. In-hourse nitrogen and helium gas is used for cryo cooler. Just swiching the knob outside of the hutch, the gas supply can be altered. The external tip-heater prevent to frost and maintain a dry tip that helps to create ice-free sample environmant at low temperature. A platinum temperature sensor is installed to control the low alarm setting temperature that trigger back the temperature controller to energized and maintain the ice-free enviroment. The main component of the cryostate can be devided into five deferent components: (i) source : the refregator or the cryostate act as a source to cool a relable cryogenic temperature for a long continuous periods (ii) compressor (iii) PID temperature controller : Cryogenic temperature controlled Model 336 manufectured by Lake Shore is used. The controller\u2019s zone tuning feature allows you to measure and control temperatures seamlessly from 300 mK to over 1,500 K by automatically switching temperature sensor inputs [1]. (iv) Power supply : 30 V digital and 24V DC is used (v) Gas flow controller : The digital flow automatically control and deplays the flow rate Gas flow parameters Helium gas : Normal flow rate is between 8 \u2013 12 liters/min, typically 11 l/min Nitrogen gas : Normal flow rate is between 8 \u2013 12 liters/min, typically 9 l/min. Safety Do not touch the cold helium and nitrogen gas stream. Exposure to skin of the cold gas could result in a severe injuries. The dewar system has pressure relief protection installed. Do not remove pressure reliefs or check valves. Motors Motor Commands Comments Temperature controller sampleT Pilatus","title":"Cryocoolers"},{"location":"cryocooler/#beamsplitting-polarimeter","text":"polarization analyzer to isolate and measure a unique series of diffraction resonances at the iron K-edge in hematite.","title":"Beamsplitting polarimeter"},{"location":"detector_information/","text":"6-Megapixel Pilatus3 \u00b6 The large Dectris Pilatus 6M photon counting detector shown above. The detectos are used to count the x-rays from desired bunches. Table 1 : Names of the Pilatus Motor Commands Comments PILATUS 2 PIL2 Pilatus PILATUS 6 PIL6 Pilatus 6M detector PILATUS 6 Pil6my Move pilatus 6M detector in Y direction PILATUS 6 Pil6mz Move pilatus 6M detector in Y direction PILATUS 6 Pilroi Pilatus 6M detector region of interest Pilatus \u00b6 \"The PILATUS 300K detector is a 2D detector (developed by PSI and sold by Dectris) with a pixel size of 172x172\uf06dm2, 487x619 pixel active area, 20-bit/pixel dynamic range and readout time of 7 ms. The quantum efficiency is 91% at 5.4 keV, 96% at 8 keV and 37% at 17.5 keV.To start operating the Pilatus one has to proceed as follows:1)From the experimental terminal inEH2p10user@haspp10e2:~$ ssh \u2013l det haspp10pilatushaspp10pilatus:~$cd p2_dethaspp10pilatus/p2_det:~$runtvx2)Start Pilatus Tango server \u2018Pilatus/P10E2\u2019 from the Astor panel3)Make sure the detector is uncommented in the online.xmlfile4)restart Spocksession5)Setup new filename /directoryby[]: p10_newfile directoryname6)Use \u2018p300take\u2019 or \u2018p300series\u2019 commands to record images.To start the P10 image viewer one has to brows to the following directory\"","title":"Detector"},{"location":"detector_information/#6-megapixel-pilatus3","text":"The large Dectris Pilatus 6M photon counting detector shown above. The detectos are used to count the x-rays from desired bunches. Table 1 : Names of the Pilatus Motor Commands Comments PILATUS 2 PIL2 Pilatus PILATUS 6 PIL6 Pilatus 6M detector PILATUS 6 Pil6my Move pilatus 6M detector in Y direction PILATUS 6 Pil6mz Move pilatus 6M detector in Y direction PILATUS 6 Pilroi Pilatus 6M detector region of interest","title":"6-Megapixel Pilatus3"},{"location":"detector_information/#pilatus","text":"\"The PILATUS 300K detector is a 2D detector (developed by PSI and sold by Dectris) with a pixel size of 172x172\uf06dm2, 487x619 pixel active area, 20-bit/pixel dynamic range and readout time of 7 ms. The quantum efficiency is 91% at 5.4 keV, 96% at 8 keV and 37% at 17.5 keV.To start operating the Pilatus one has to proceed as follows:1)From the experimental terminal inEH2p10user@haspp10e2:~$ ssh \u2013l det haspp10pilatushaspp10pilatus:~$cd p2_dethaspp10pilatus/p2_det:~$runtvx2)Start Pilatus Tango server \u2018Pilatus/P10E2\u2019 from the Astor panel3)Make sure the detector is uncommented in the online.xmlfile4)restart Spocksession5)Setup new filename /directoryby[]: p10_newfile directoryname6)Use \u2018p300take\u2019 or \u2018p300series\u2019 commands to record images.To start the P10 image viewer one has to brows to the following directory\"","title":"Pilatus"},{"location":"diffractometer/","text":"Huber diffractometer \u00b6 Huber \u201cpsi\u201d diffractometer is installed at CHESS ID4B. Due to four sample-orientation axes and two detector-orientation axes, the psi-circle diffractometer is also known as \u201c4S+2D\". The independent motion sample and detector orientation provides nine degrees of freedom to define any vertical diffraction plane.The angle calculations for this diffractometer were shown in the reference [1] [2]. The motor names are shown below in the Table 1. Reference [1] H. You, J. Appl. Cryst.(1999).32, 614-623 and [2] W. R. & Levy, H. A. (1967). Acta Cryst. 22, 457\u2013464 Table 1 : Names of the six-circle Huber Diffractometer's motor Motor Commands Comments 2-Theta tth horizontal axis for detector arm Theta th horizontal axis for sample Chi chi sample motor Phi phi sample motor Nu nu vertical axis for detector, only for psic Mu mu vertical axis for sample, only for psic X-direction samplex sample motor x-direction Y-direction sampley sample motor y-direction Z-direction samplez sample motor z-direction","title":"Diffractometer"},{"location":"diffractometer/#huber-diffractometer","text":"Huber \u201cpsi\u201d diffractometer is installed at CHESS ID4B. Due to four sample-orientation axes and two detector-orientation axes, the psi-circle diffractometer is also known as \u201c4S+2D\". The independent motion sample and detector orientation provides nine degrees of freedom to define any vertical diffraction plane.The angle calculations for this diffractometer were shown in the reference [1] [2]. The motor names are shown below in the Table 1. Reference [1] H. You, J. Appl. Cryst.(1999).32, 614-623 and [2] W. R. & Levy, H. A. (1967). Acta Cryst. 22, 457\u2013464 Table 1 : Names of the six-circle Huber Diffractometer's motor Motor Commands Comments 2-Theta tth horizontal axis for detector arm Theta th horizontal axis for sample Chi chi sample motor Phi phi sample motor Nu nu vertical axis for detector, only for psic Mu mu vertical axis for sample, only for psic X-direction samplex sample motor x-direction Y-direction sampley sample motor y-direction Z-direction samplez sample motor z-direction","title":"Huber diffractometer"},{"location":"energy_change/","text":"Energy change \u00b6 Removing mirror for higher energy calibrations \u00b6 ''' newfile wmirror umvr mird miru opens wot tw tabzd tabzui tabzuo ws2 wot wm diftabz tw tabzd tabzui tabzuo tw tabxd closes syncE ''' Energy calibrations \u00b6 ''' moveE 25 umvr mond matchUE 8 tweakup wm lup montrav -3 3 60 0.1 umv montrav 163.98 tweakup wm monchi Tw monchi lup monchi -0.5 0.5 20 0.1 plotselect ic2 diode splot Plotselect ic2 splot syncE plotselect ic2 diode splot umv monchi pl_xMAX getE wot ws1 tw tabzd tabzui tabzuo 1 1 1 tw tabxd .05 tweakup syncE moveE 30.6; matchUE 8 '''","title":"Energy change"},{"location":"energy_change/#energy-change","text":"","title":"Energy change"},{"location":"energy_change/#removing-mirror-for-higher-energy-calibrations","text":"''' newfile wmirror umvr mird miru opens wot tw tabzd tabzui tabzuo ws2 wot wm diftabz tw tabzd tabzui tabzuo tw tabxd closes syncE '''","title":"Removing mirror for higher energy calibrations"},{"location":"energy_change/#energy-calibrations","text":"''' moveE 25 umvr mond matchUE 8 tweakup wm lup montrav -3 3 60 0.1 umv montrav 163.98 tweakup wm monchi Tw monchi lup monchi -0.5 0.5 20 0.1 plotselect ic2 diode splot Plotselect ic2 splot syncE plotselect ic2 diode splot umv monchi pl_xMAX getE wot ws1 tw tabzd tabzui tabzuo 1 1 1 tw tabxd .05 tweakup syncE moveE 30.6; matchUE 8 '''","title":"Energy calibrations"},{"location":"introduction/","text":"Introduction \u00b6 The layout of CHESS ID4B beamline is shown in the figure above. For more details see the beamline paper (soon to be published). This documents is catagorize in three sections. User Guide : This is the most usefull section for the ID4B beamline users. Here, the users can gather informations about SPEC commands to run their own samples in the beamline. This includes sample alignment details and data analysis steps. In addtion, this section also includes informations of beamline equipments. Admin documents : This section is used for administrative purpose. However, you can find information about proposal details, computational configurations (nomachine and globus setup) in beamline setup section. Frequesntly Ask Questions (FAQ) : This is section includes FAQ in the beamline before, during and after the run. Please read the questions and answers, you might find yours!!","title":"Introduction"},{"location":"introduction/#introduction","text":"The layout of CHESS ID4B beamline is shown in the figure above. For more details see the beamline paper (soon to be published). This documents is catagorize in three sections. User Guide : This is the most usefull section for the ID4B beamline users. Here, the users can gather informations about SPEC commands to run their own samples in the beamline. This includes sample alignment details and data analysis steps. In addtion, this section also includes informations of beamline equipments. Admin documents : This section is used for administrative purpose. However, you can find information about proposal details, computational configurations (nomachine and globus setup) in beamline setup section. Frequesntly Ask Questions (FAQ) : This is section includes FAQ in the beamline before, during and after the run. Please read the questions and answers, you might find yours!!","title":"Introduction"},{"location":"nexpy/","text":"Nexpy \u00b6 The code provides various tools for stacking the raw data, finding Bragg peaks, solving orientation matrix and finally provide the HKL. The results are visible to NeXpy GUI.","title":"NeXpy"},{"location":"nexpy/#nexpy","text":"The code provides various tools for stacking the raw data, finding Bragg peaks, solving orientation matrix and finally provide the HKL. The results are visible to NeXpy GUI.","title":"Nexpy"},{"location":"publications/","text":"<QM> 2 list of publications \u00b6","title":"Publication"},{"location":"publications/#qm2-list-of-publications","text":"","title":"&#60;QM&#62;2 list of publications"},{"location":"pymca/","text":"Authors: Jacob Ruff Suchismita Sarker date: 2022-07-15","title":"pyMCA"},{"location":"sample_alignment/","text":"Welcome to CHESS QM2 Sample Alignment \u00b6 High Dynamic Range Reciprocal Space Mapping (HDRM) Basic Theory - HDRM \u00b6 The High Dynamic Range Mapping (HDRM) is primarily a method for studying single crystal samples, although it can also be effective for studying thin films. The aim of HDRM is to rapidly study wide regions of reciprocal space, collecting the intense Bragg peaks required to refine crystal structures along with weak features associated with superstructures, and the slowly modulated scattering associated with phonons and short-range order[ 1 ]. Basic steps for sample alignment - HDRM \u00b6 Resonant Elastic X-ray Scattering (REXS) Basic Theory - REXS \u00b6 Basic steps for sample alignments - REXS \u00b6","title":"Sample alignment"},{"location":"sample_alignment/#welcome-to-chess-qm2-sample-alignment","text":"High Dynamic Range Reciprocal Space Mapping (HDRM)","title":"Welcome to CHESS QM2 Sample Alignment"},{"location":"sample_alignment/#basic-theory-hdrm","text":"The High Dynamic Range Mapping (HDRM) is primarily a method for studying single crystal samples, although it can also be effective for studying thin films. The aim of HDRM is to rapidly study wide regions of reciprocal space, collecting the intense Bragg peaks required to refine crystal structures along with weak features associated with superstructures, and the slowly modulated scattering associated with phonons and short-range order[ 1 ].","title":"Basic Theory - HDRM"},{"location":"sample_alignment/#basic-steps-for-sample-alignment-hdrm","text":"Resonant Elastic X-ray Scattering (REXS)","title":"Basic steps for sample alignment - HDRM"},{"location":"sample_alignment/#basic-theory-rexs","text":"","title":"Basic Theory - REXS"},{"location":"sample_alignment/#basic-steps-for-sample-alignments-rexs","text":"","title":"Basic steps for sample alignments - REXS"},{"location":"sample_change/","text":"Sample change \u00b6 The procedure of mounting/changing the sample depends on the type of executed experiment. Magnetic mount for the single crytal \u00b6 The powder samples on single-crystal mounts is straightforward. Using a drop of oil, the powder sample sticks to the magnetic base or standard mounts under microscope.","title":"Sample Change"},{"location":"sample_change/#sample-change","text":"The procedure of mounting/changing the sample depends on the type of executed experiment.","title":"Sample change"},{"location":"sample_change/#magnetic-mount-for-the-single-crytal","text":"The powder samples on single-crystal mounts is straightforward. Using a drop of oil, the powder sample sticks to the magnetic base or standard mounts under microscope.","title":"Magnetic mount for the single crytal"}]}